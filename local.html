<!DOCTYPE html><html><head id=main_head>
	<link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.11.4/themes/redmond/jquery-ui.css" />
	<link rel="stylesheet" media="screen" href="https://cbs.wappsystem.com/system/third/handsontable.full.min.css">
	<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.1.4.min.js"></script>
	<script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.11.4/jquery-ui.min.js"></script>
	<script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.min.js"></script>
	<script src="https://sdk.amazonaws.com/js/aws-sdk-2.1.34.min.js"></script>
	<script src="https://cbs.wappsystem.com/system/third/handsontable.full.min.js"></script>
	<script src="https://www.google.com/jsapi"></script>
	<script type="text/javascript">google.load('visualization', '1', {'packages':['corechart']});</script>
	<script src="https://cbs.wappsystem.com/dev/vm.js?v=20160108"></script>
</script></head><body></body></html>
<script>
$vm={}; $VmAPI={};
$(document).ready(function(){
	//--------------------------------------------------------
	$vm.server		="development";
	$vm.debug		=true;
	$vm.debug_message	=true;
	//--------------------------------------------------------
	g_server          =$vm.server;						//for old vm.js
	g_vm_api_url	="https://cbs.wappsystem.com/dev/api.aspx";	//for old vm.js
	//--------------------------------------------------------
	$vm.site_base	='http://192.168.1.133:8000/';
	$vm.app_base	='http://192.168.1.133:8000/Unigreen-Food-Pty-Ltd/';
	$vm.common_base	='http://192.168.1.133:8000/Common-Modules/'; //for zhiming
	//$vm.common_base	='https://raw.githubusercontent.com/vmiis/Common-Modules/master/'; //for gunnar
	$VmAPI.api_base	="https://cbs.wappsystem.com/dev/";
	$vm.code_base	="https://github.com/vmiis/Unigreen-Food-Pty-Ltd/blob/master/";
	//--------------------------------------------------------
	var load_js=function(name,new_ver){
		var url=$vm.site_base+name+"?_="+new_ver;
		var ver=localStorage.getItem(url+"_ver");
		var txt=localStorage.getItem(url+"_txt");
		//------------------------------------------
		if(ver!=new_ver || txt===null || $vm.debug===true){ $.get(url,function(data){  // for zhiming
		//if(ver!=new_ver || txt===null){ $.get("https://raw.githubusercontent.com/vmiis/"+name+"?_="+new_ver,function(data){ //for gunnar
			if($vm.debug_message===true) console.log('load module from '+url);
			txt=data;
			localStorage.setItem(url+"_txt",txt);
			localStorage.setItem(url+"_ver",new_ver);
		},'text'); }
		//------------------------------------------
		$('#main_head').append('<scr'+'ipt>'+txt+'</scr'+'ipt>');
	}
	//--------------------------------------------------------
	var url=$vm.app_base+"version.html?_="+new Date().getTime();
	$.get(url,function(new_ver){
		if($vm.debug_message===true) console.log('load module from '+url);
		$vm.version=new_ver;
		$.ajaxSetup({async:false});
		load_js('VmAPI/distribution/vmapi.min.js',new_ver);
		load_js('VmFramework/distribution/vmframework.min.js',new_ver);
		$.ajaxSetup({async:true});
		$vm.init({callback:function(){
      		var param={
      			pid:Math.random().toString().replace('.',''),
      			slot:$vm.root_layout_content_slot,
      			name:'modules/main_layout.html',
      			source:'modules/main_layout.html'
      		}
      		$vm.load_module(param);
      		if($vm.server=="development") $('#_help_').show();
      	}});
      	//-------------------------------------------------------------------------
	},'text')
	//--------------------------------------------------------
 });
 </script>
